{"componentChunkName":"component---src-templates-post-template-js","path":"/post/blog-tech-stack","result":{"data":{"markdownRemark":{"id":"e7373003-5fd0-56fe-9561-93d448b12e08","html":"<h1 id=\"welcome\" style=\"position:relative;\"><a href=\"#welcome\" aria-label=\"welcome permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Welcome!</h1>\n<p>I've been meaning to get around to setting up a blog for a long time. In the past, I've gotten as far as getting halfway through trying out different static site generators before getting depressed about my lack of frontend design chops and given up. </p>\n<p>The perfect storm finally came: </p>\n<ol>\n<li>I took <strong>two weeks off</strong>. After recharging my batteries for a few days, I was ready for a little side project. </li>\n<li>I recently discovered <a href=\"https://obsidian.md\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Obsidian</a>, which is a dope AF note-taking app. </li>\n<li>I've tried a decent number of static site generators to build documentation for various projects and wanted to take a deeper dive into <a href=\"https://gatsbyjs.com\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Gatsby</a>. </li>\n<li>I recently discovered <a href=\"https://pipedream.com\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Pipedream</a> and wanted to use it for something. </li>\n</ol>\n<p>I wanted to see if i could use Obsidian as a <a href=\"https://en.wikipedia.org/wiki/Content_management_system\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">content management system (CMS)</a> for a tech blog and Pipedream to automate tweeting out new blog posts. </p>\n<div class=\"admonition admonition-caution alert alert--warning\"><div class=\"admonition-heading\"><h5><span class=\"admonition-icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z\"></path></svg></span><strong>Spoiler Alert</strong></h5></div><div class=\"admonition-content\"><p>It was, in fact, possible.</p></div></div>\n<p>Anyway, here's Buzzword Engineering's inaugural blog post. If you like it, go give me a github star on the <a href=\"https://github.com/steven-terrana/steven-terrana.github.io\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">blog repo</a> or something. It's a nice dopamine boost and fuels my self-worth. </p>\n<h1 id=\"tech-stack\" style=\"position:relative;\"><a href=\"#tech-stack\" aria-label=\"tech stack permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tech Stack</h1>\n<p>Let's dive in. Here's a digram for those visual learners out there. </p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f0e7c507dc593d346366fe97b0306a5a/45662/overview.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 33.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAABMklEQVQoz41S2ZKtIAz0/z9xLJ2jHHcBF0DBpSfhlj7fVKUKTafTHUiO40RZfGCNwRP3fb/JobVGU9f4n0jctsEscyQ0lN77t3gcB4y1aJsGoiywrCssfYfgEQjH2GEY0Pc9nHPYiCtp2xZd18WsScU0TS+h94GAG4qiQJqmcWhZlugJ68wKIQTyPEeWZaiqKjpJPgTuviWcNViW5VXIdvXYU3OLSpSoRYHf9Ady6GP9PM9IoOWIWUlM8xzVJw3Z4YmslOVrpWJuq4El4Err4BorYKWKaiGEOPi6LsyThhqHOGTf93+W8zyjpg5SyrjHJzYik0Qgvl8i+0RFjGFCbl5pp9zHq+IzD0sushacwbk73IfHoiUk2VR9SypnqlkYNcLSf09EfFHPStj28xr4zIr/AIdVGN6XvtCPAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/f0e7c507dc593d346366fe97b0306a5a/8ac56/overview.webp 240w,\n/static/f0e7c507dc593d346366fe97b0306a5a/d3be9/overview.webp 480w,\n/static/f0e7c507dc593d346366fe97b0306a5a/e46b2/overview.webp 960w,\n/static/f0e7c507dc593d346366fe97b0306a5a/e97dc/overview.webp 1410w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/f0e7c507dc593d346366fe97b0306a5a/8ff5a/overview.png 240w,\n/static/f0e7c507dc593d346366fe97b0306a5a/e85cb/overview.png 480w,\n/static/f0e7c507dc593d346366fe97b0306a5a/d9199/overview.png 960w,\n/static/f0e7c507dc593d346366fe97b0306a5a/45662/overview.png 1410w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/f0e7c507dc593d346366fe97b0306a5a/d9199/overview.png\"\n          alt=\"This diagram shows an overview of buzzword.engineering tech stack and associated automation\"\n          title=\"This diagram shows an overview of buzzword.engineering tech stack and associated automation\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n  </a>\n    </span></p>\n<div class=\"admonition admonition-tip alert alert--success\"><div class=\"admonition-heading\"><h5><span class=\"admonition-icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"16\" viewBox=\"0 0 12 16\"><path fill-rule=\"evenodd\" d=\"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z\"></path></svg></span><strong>Excalidraw is Dope</strong></h5></div><div class=\"admonition-content\"><p>If you haven't heard of it, stop reading this and go play with <a href=\"https://excalidraw.com\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Excalidraw</a> and then come back. It's the tool I used to sketch out this diagram.</p></div></div>\n<h2 id=\"obsidian\" style=\"position:relative;\"><a href=\"#obsidian\" aria-label=\"obsidian permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Obsidian</h2>\n<p>I'll keep this short.  Maybe a future blog post will talk about Obsidian in a lot more detail. For now, let me just say that I've tried to get into taking notes for... a long time. I could never do it in college. I struggle to do it for work. I've always found that taking notes takes away from my ability to absorb the content in the moment and make meaningful contributions. </p>\n<p>Obsidian was the first app that actually made me <strong>want</strong> to take notes. The general idea is that all your notes are written in markdown. Jumping around is super easy with <code class=\"language-text\">CMD + O</code> (which also will create pages for you if they don't exist).  Linking between pages to build connections is really easy as can be with a syntax like <code class=\"language-text\">[[this]]</code>. Obsidian builds a visual graph of the relationships between pages (I'm a sucker for graphs). And finally, you can build templates and insert them with <code class=\"language-text\">CMD + T</code>. Templates dramatically simplified the boiler plate needed to capture who's attending a meeting, agenda, the date, etc. </p>\n<p>Long story short, try it out.  (Or don't, whatever.)  I'm a fan and thought that maybe if I can use it as the interface for writing blog posts that I might <em>actually</em> write some. </p>\n<h3 id=\"automated-backups\" style=\"position:relative;\"><a href=\"#automated-backups\" aria-label=\"automated backups permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Automated Backups</h3>\n<p>Obsidian has some 3rd-party plugins that do nifty things.  One of these plugins is called <a href=\"https://github.com/denolehov/obsidian-git\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Obsidian Git</a> which can automatically backup your notes to a Git repository.</p>\n<p>I figured that had to be a way to fetch markdown content from a remote github repository and use it as a content source for Gatsby. There was.</p>\n<h3 id=\"defining-post-information\" style=\"position:relative;\"><a href=\"#defining-post-information\" aria-label=\"defining post information permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Defining Post Information</h3>\n<p>Blog post information is defined through the markdown frontmatter.  For example, the frontmatter for this blog post: </p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">---</span>\n<span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> The buzzword.engineering Tech Stack\n<span class=\"token key atrule\">date</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"12/26/2020\"</span>\n<span class=\"token key atrule\">publish</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n<span class=\"token key atrule\">template</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"post\"</span>\n<span class=\"token key atrule\">slug</span><span class=\"token punctuation\">:</span> blog<span class=\"token punctuation\">-</span>tech<span class=\"token punctuation\">-</span>stack\n<span class=\"token key atrule\">description</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"I finally got around to putting a blog together that uses Obsidian, Gatsby, and automates tweeting out new posts with Pipedream.\"</span>\n<span class=\"token punctuation\">---</span></code></pre></div>\n<h2 id=\"gatsby\" style=\"position:relative;\"><a href=\"#gatsby\" aria-label=\"gatsby permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Gatsby</h2>\n<p>I think it's important to start here by saying that I'm <strong>not</strong> a frontend developer. Well, let's rephrase that. I'm writing a blog post that has Gatsby in it.  So it's probably more accurate to say that I'm a <em>very</em> junior frontend developer. </p>\n<p>My mental model for Gatsby so far is that it's a framework for building static site generators. There might be a couple frontend purists or gatsby enthusiasts out there who take issue with that definition, please let me know if you've got a better one down in the comments. </p>\n<p>There are two main components of Gatsby that drew me to it: </p>\n<ol>\n<li>It uses <a href=\"https://reactjs.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">React</a>, which is a lot more powerful to me over something like <a href=\"https://handlebarsjs.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">handlebars</a> or go-based html templating. </li>\n<li>Gatsby is extensible with a rich plugin ecosystem that contribute to a shared <a href=\"https://graphql.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">GraphQL</a> data layer. When developing your site, you can query the data layer to fetch content for particular pages/components.</li>\n</ol>\n<p>I like React and I think Gatsby's extensibility framework and GraphQL data layer is <strong>brilliant</strong>. </p>\n<h3 id=\"the-starter\" style=\"position:relative;\"><a href=\"#the-starter\" aria-label=\"the starter permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>The Starter</h3>\n<p>Another great thing about Gatsby is their concept of Starters. For this blog, I kicked things off with the <a href=\"https://github.com/alxshelepenok/gatsby-starter-lumen\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">gatsby-starter-lumen</a>. </p>\n<h3 id=\"fetching-content\" style=\"position:relative;\"><a href=\"#fetching-content\" aria-label=\"fetching content permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Fetching Content</h3>\n<p>The first thing I had to customize was content sources. The Lumen starter fetches content from the same repository as the blog itself. Thankfully, there's a Gatsby plugin called <a href=\"https://www.gatsbyjs.com/plugins/gatsby-source-git\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"language-text\">gatsby-source-git</code></a> that allows you to fetch content from a remote Git repository. </p>\n<p>During development, I wanted to be able to fetch content from the local copy of the Obsidian backup repository. Gatsby plugins are done by exporting a javascript object from a file called <code class=\"language-text\">gatsby-config.js</code>.  </p>\n<p>Here, I toggle between using the <code class=\"language-text\">gatsby-source-git</code> plugin and the [<code class=\"language-text\">gatsby-source-filesystem</code>] based on whether a <code class=\"language-text\">GATSBY_PREVIEW</code> environment variable is set. </p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">GATSBY_PREVIEW</span> <span class=\"token operator\">==</span> <span class=\"token string\">\"true\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">using local vault path: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>siteConfig<span class=\"token punctuation\">.</span>obsidian<span class=\"token punctuation\">.</span>vaultPath<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n  config<span class=\"token punctuation\">.</span>plugins<span class=\"token punctuation\">.</span><span class=\"token function\">unshift</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    resolve<span class=\"token operator\">:</span> <span class=\"token string\">'gatsby-source-filesystem'</span><span class=\"token punctuation\">,</span>\n    options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      path<span class=\"token operator\">:</span> siteConfig<span class=\"token punctuation\">.</span>obsidian<span class=\"token punctuation\">.</span>vaultPath<span class=\"token punctuation\">,</span>\n      name<span class=\"token operator\">:</span> <span class=\"token string\">'local_obsidian'</span><span class=\"token punctuation\">,</span>\n      ignore<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"**/.git/**/*\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"**/.obsidian/**/*\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"**/Templates/**/*\"</span> <span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span><span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"fetching from remote repo: \"</span><span class=\"token punctuation\">,</span> siteConfig<span class=\"token punctuation\">.</span>obsidian<span class=\"token punctuation\">.</span>repo<span class=\"token punctuation\">)</span>\n  config<span class=\"token punctuation\">.</span>plugins<span class=\"token punctuation\">.</span><span class=\"token function\">unshift</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    resolve<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-source-git</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      name<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">obsidian</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      remote<span class=\"token operator\">:</span> siteConfig<span class=\"token punctuation\">.</span>obsidian<span class=\"token punctuation\">.</span>repo<span class=\"token punctuation\">,</span>\n      patterns<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"!**/Templates/**/*\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"**/*\"</span> <span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"comments\" style=\"position:relative;\"><a href=\"#comments\" aria-label=\"comments permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Comments</h3>\n<p>Comments on blog posts are made possible through a nifty tool called <a href=\"https://utteranc.es/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">utteranc.es</a>. It's a GitHub Application that uses GitHub Issue threads per blog post to track comments. </p>\n<h3 id=\"post-filtering\" style=\"position:relative;\"><a href=\"#post-filtering\" aria-label=\"post filtering permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Post Filtering</h3>\n<p>In the spirit of premature optimization, I wanted to integrate a way to filter blog posts with fuzzy-searching. To accomplish this, I integrated <a href=\"https://fusejs.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Fuse.js</a> and added a new <code class=\"language-text\">Filter</code> component to the blog. </p>\n<p>Most of the logic for how this was accomplished can be seen in the <a href=\"https://github.com/steven-terrana/steven-terrana.github.io/blob/main/src/templates/index-template.js\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Index Template</a>.</p>\n<div class=\"admonition admonition-caution alert alert--warning\"><div class=\"admonition-heading\"><h5><span class=\"admonition-icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z\"></path></svg></span>caution</h5></div><div class=\"admonition-content\"><p>I wanted to insert a gif of the filtering taking place. Apparently that's easier said than done with Gatsby and<code class=\"language-text\">gatsby-transform-remark</code>.  I'll update this post once I get gifs working 🙄.</p></div></div>\n<h2 id=\"automation\" style=\"position:relative;\"><a href=\"#automation\" aria-label=\"automation permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Automation</h2>\n<p>With the site actually working how I wanted it to, I got to focus on the side of things I'm actually good at: digital duct tape. The goal is for changes in markdown content in the Obsidian backup repository to trigger a deployment of the site and if there is a new blog post, to send out a tweet letting you all know about it. </p>\n<h3 id=\"step-1-github-action-on-the-obsidian-backup-repo\" style=\"position:relative;\"><a href=\"#step-1-github-action-on-the-obsidian-backup-repo\" aria-label=\"step 1 github action on the obsidian backup repo permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Step 1: GitHub Action on the Obsidian Backup Repo</h3>\n<p>First things first, the content repository needs to trigger a deployment of the site. The easiest way I could think to accomplish this would be to a GitHub Action on the blog post repository that does the build/deploy logic. </p>\n<p>This meant that I needed a way to invoke a GitHub Action on one repository as part of the execution of an Action on another repository. This is where the <a href=\"https://docs.github.com/en/free-pro-team@latest/actions/reference/events-that-trigger-workflows#repository_dispatch\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"language-text\">repository_dispatch</code></a> event comes in handy. Basically, it means that you can use the GitHub API to trigger an Action. </p>\n<p>Here's what the GitHub Action workflow looks like for the obsidian repository: </p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Trigger Build\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token comment\"># trigger this action on changes to the main branch</span>\n  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span> main <span class=\"token punctuation\">]</span>\n  <span class=\"token comment\"># Allows you to run this workflow manually from the Actions tab</span>\n  <span class=\"token key atrule\">workflow_dispatch</span><span class=\"token punctuation\">:</span>\n\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">trigger</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n     <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Trigger Upstream Blog Action\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\n          curl -XPOST \\\n          -u \"${{ secrets.PAT_USERNAME}}:${{secrets.PAT_TOKEN}}\" \\\n          -H \"Accept: application/vnd.github.everest-preview+json\" \\\n          -H \"Content-Type: application/json\" \\\n          https://api.github.com/repos/steven-terrana/steven-terrana.github.io/dispatches \\\n          --data '{\"event_type\": \"blog\"}'</span></code></pre></div>\n<h3 id=\"step-2-github-action-on-the-blog-repo\" style=\"position:relative;\"><a href=\"#step-2-github-action-on-the-blog-repo\" aria-label=\"step 2 github action on the blog repo permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Step 2: GitHub Action on the Blog Repo</h3>\n<p>Sweet. Now commits to the Obsidian backup repository will trigger actions on the blog repository. </p>\n<p>The next step was to automate the build and deployment steps using a GitHub Action on the blog repository. Here's what that action looks like: </p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Build and Publish\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">repository_dispatch</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">workflow_dispatch</span><span class=\"token punctuation\">:</span>\n\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">build-deploy-notify</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token comment\"># Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Checkout Code 🛎\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v2\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span> \n          <span class=\"token key atrule\">persist-credentials</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n       <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Install &amp; Build 🔧\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\n          npm ci\n          npm run build\n          echo \"buzzword.engineering\" > public/CNAME</span>\n        <span class=\"token key atrule\">env</span><span class=\"token punctuation\">:</span> \n          <span class=\"token key atrule\">PAT_USER</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.PAT_USER <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n          <span class=\"token key atrule\">PAT_TOKEN</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.PAT_TOKEN <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> peaceiris/actions<span class=\"token punctuation\">-</span>gh<span class=\"token punctuation\">-</span>pages@v3\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">github_token</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.GITHUB_TOKEN <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n          <span class=\"token key atrule\">publish_dir</span><span class=\"token punctuation\">:</span> public\n          <span class=\"token key atrule\">force_orphan</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>  </code></pre></div>\n<p>This blog is hosted using GitHub Pages, so you'll notice a few things:</p>\n<ol>\n<li>I add a custom <code class=\"language-text\">CNAME</code> file to the <code class=\"language-text\">public</code> directory so that GitHub Pages knows the custom domain for this blog.  (I should definitely incorporate this into an inherit part of the build of the site using the <code class=\"language-text\">onPostBuild</code> Gatsby Node API method or something). </li>\n<li>I use the <code class=\"language-text\">peaceiris/actions-gh-pages</code> action to publish the site. </li>\n</ol>\n<p>All in all, this was a pretty painless setup. </p>\n<h3 id=\"step-3-automating-tweets\" style=\"position:relative;\"><a href=\"#step-3-automating-tweets\" aria-label=\"step 3 automating tweets permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Step 3: Automating Tweets</h3>\n<p>So at this point, we've got content changes automatically getting deployed to GitHub Pages. The whole process takes about <strong>three minutes</strong> from commit to publish. </p>\n<p>The last piece was to automate letting all of you know about the whatever new insightful thing I had to say! </p>\n<p>I had stumbled on <a href=\"https://pipedream.com\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Pipedream</a> before through targeted ads and sort of ignored it until I saw <a href=\"https://twitter.com/rawkode\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">David McKay</a> talk about how much he loves it on <a href=\"https://rawkode.live\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">rawkode.live</a>. Here's a <a href=\"https://youtu.be/Q8ZJ_5zxfmo\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">link to the stream</a>!</p>\n<p>I went into this adventure thinking I was going to have to do all kinds of fancy logic and scripting to make this possible. I was wrong. </p>\n<p>After setting up a Pipedream account, starting looking at what event sources were available to trigger a workflow. Well, the Lumen gatsby starter had already integrated an <a href=\"https://buzzword.engineering/rss.xml\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">RSS feed</a> using the <a href=\"https://www.gatsbyjs.com/plugins/gatsby-plugin-feed\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"language-text\">gatsby-plugin-feed</code></a> plugin. Pipedream had an event source for monitoring RSS feeds. Done. </p>\n<p>That was easy enough. Next up was automating how to send the tweet. I figured that would mean doing some research on a Twitter Rest API or SDK. </p>\n<p>Nope!  Pipedream also had a step for automating the sending off a tweet and even made it really simple to query the event that triggered the workflow to template the tweet content with the new blog post information. Here's what this whole setup looks like in Pipedream:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/380f5285cb42aa0d885f591d6f8c3c64/7575b/pipedream.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 42.083333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAAA6ElEQVQoz52R3W7DIAyFef+33FRpk7IkUH6MDdGZTVO1YXe7+MSxrWMwdtv3DR+fN3jv0Vob9N4vHMfxJ/eOiICYkZngQsz4WnasPuKeslJQKisyTmJBKoRMdehX7aUtP2rEcKsP2PYd95gQc3k0Vf0k5oxl3bBuO+JUmwmK20McBtLbqt7C0iCtX2j9GMz5mapeZ53tlcTtHFdGwWKSE57iGa2Zx7yu6EghaEMipY6l2BL+g6jX1VqxLD9I+j+t95PjQj+ZdZu0eR3ruoOOukWGzwKfdP1kz2/I9XE+sdjGKzzFp7b//wWFzHB83aCQkgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/380f5285cb42aa0d885f591d6f8c3c64/8ac56/pipedream.webp 240w,\n/static/380f5285cb42aa0d885f591d6f8c3c64/d3be9/pipedream.webp 480w,\n/static/380f5285cb42aa0d885f591d6f8c3c64/e46b2/pipedream.webp 960w,\n/static/380f5285cb42aa0d885f591d6f8c3c64/f992d/pipedream.webp 1440w,\n/static/380f5285cb42aa0d885f591d6f8c3c64/40fa0/pipedream.webp 1608w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/380f5285cb42aa0d885f591d6f8c3c64/8ff5a/pipedream.png 240w,\n/static/380f5285cb42aa0d885f591d6f8c3c64/e85cb/pipedream.png 480w,\n/static/380f5285cb42aa0d885f591d6f8c3c64/d9199/pipedream.png 960w,\n/static/380f5285cb42aa0d885f591d6f8c3c64/07a9c/pipedream.png 1440w,\n/static/380f5285cb42aa0d885f591d6f8c3c64/7575b/pipedream.png 1608w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/380f5285cb42aa0d885f591d6f8c3c64/d9199/pipedream.png\"\n          alt=\"Screenshot of the Pipedream configuration for sending a tweet based on an updated RSS feed\"\n          title=\"Screenshot of the Pipedream configuration for sending a tweet based on an updated RSS feed\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n  </a>\n    </span></p>\n<p>This whole workflow took about 1 minute to figure out and configure. I was almost disappointed in how easy it was. In the end, it was pretty boring. And that's probably the best compliment I can give Pipedream. </p>","fields":{"slug":"/post/blog-tech-stack","tagSlugs":null},"frontmatter":{"date":"12/26/2020","description":"I finally got around to putting a blog stack together that uses Obsidian, Gatsby, and automates tweeting out new posts with Pipedream.","tags":null,"title":"The buzzword.engineering Tech Stack"}}},"pageContext":{"slug":"/post/blog-tech-stack"}},"staticQueryHashes":["251939775","401334301","825871152"]}