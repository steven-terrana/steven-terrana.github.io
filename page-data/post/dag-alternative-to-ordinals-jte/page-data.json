{"componentChunkName":"component---src-templates-post-template-js","path":"/post/dag-alternative-to-ordinals-jte","result":{"data":{"markdownRemark":{"id":"be205ed2-c843-5c20-9a56-2173773cc3fe","html":"<h1 id=\"some-background-context\" style=\"position:relative;\"><a href=\"#some-background-context\" aria-label=\"some background context permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Some Background Context</h1>\n<p>If you know anything about me, it's probably that I'm the lead maintainer of the <a href=\"https://github.com/jenkinsci/templating-engine-plugin\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Jenkins Templating Engine (JTE)</a>. While working on JTE 2.0, we refactored how pipeline initialization works. </p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/621b804243b8468ca3c14756238a0b6b/fe9e8/jte-initialization.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAABuElEQVQoz3VTi26DMAzk//9rmlS1U7eqGi2iUFroILzCM7x6s1Nl2rTN0mEngdh3NtY4juj7HuwZXddhnmcURYGJ/DQvXxh5vTziYZoxU8x2v99hzGqaBuv1GqvVCpvNBtvtVl8qkgSprOCIDNdCavhZAVG3OCYpntwAUVn9vpAfC2UyVZrDPM9/vPjdeL/rlfYGZt/CPybLEmXXI6Iqs6ZD2rTIWvKEdhgxT9OPBAYWV2bbtsbhcNCe96IwRFrVCIjq+03A/hBw4xTHa4RX74xaSs2Idf5uFtMVQsD3fYR0iaF6vV6Q1Q2CXOIliLAm7NwTXh0Xz7aDIs8ejRyUjn3Pg6Qk/1Ku6JCpuSKHk2TY3xKNt/ADF6pa68ySUOyEN5zCiJrZwmrbFgymyd3leBgGXelIOkkSX5EfiFo/mvWD5o0k8VJKSHKcYgGlFKzz+axHxXVd7HY77Pd7lNQQ53hExYnoMq60VoPGQnIkpcRAHy+URFEhlyDQ73tEW2vIQ8yVsa+qx2wVVGFHlXKnucs8fwlp2pFugi5Uqoeic2bzaw7/sjiOdQeZJv8d/JcwFK3nP+bTjM0nX0NNydFCEsMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/621b804243b8468ca3c14756238a0b6b/8ac56/jte-initialization.webp 240w,\n/static/621b804243b8468ca3c14756238a0b6b/d3be9/jte-initialization.webp 480w,\n/static/621b804243b8468ca3c14756238a0b6b/e46b2/jte-initialization.webp 960w,\n/static/621b804243b8468ca3c14756238a0b6b/b28d4/jte-initialization.webp 1146w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/621b804243b8468ca3c14756238a0b6b/8ff5a/jte-initialization.png 240w,\n/static/621b804243b8468ca3c14756238a0b6b/e85cb/jte-initialization.png 480w,\n/static/621b804243b8468ca3c14756238a0b6b/d9199/jte-initialization.png 960w,\n/static/621b804243b8468ca3c14756238a0b6b/fe9e8/jte-initialization.png 1146w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/621b804243b8468ca3c14756238a0b6b/d9199/jte-initialization.png\"\n          alt=\"Overview of the JTE initialization process\"\n          title=\"Overview of the JTE initialization process\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n  </a>\n    </span></p>\n<ol>\n<li><strong>Aggregated Pipeline Configurations</strong>: The Jenkins folder structure is used to create a configuration hierarchy. Pipeline configurations are aggregated across the hierarchy into an Aggregated Pipeline Configuration. </li>\n<li><strong>Interpret Pipeline Configuration</strong>: JTE has what are called <em>Pipeline Primitives</em>.  They're just objects that get created by parsing the pipeline configuration and instantiating objects defined to be stored in a common Groovy binding.</li>\n<li><strong>Determine and Execute the Pipeline Template</strong>: The configured pipeline template is executed just like any other Jenkinsfile, just with the common binding that's been injected with primitives so that the templated aspects actually <em>do</em> something. </li>\n</ol>\n<p>The benefit of this design is that all 3 phases of initialization are totally decoupled. The pipeline configuration files are a custom configuration DSL that get compiled into a <code class=\"language-text\">PipelineConfigurationObject</code>.  Each Pipeline Primitive has a corresponding <code class=\"language-text\">TemplatePrimitiveInjector</code> that implements an extension point.  We then dynamically fetch all the different Injectors and iterate over them 3 times. The first time is to invoke an optional interface on each injector to validate the pipeline configuration. The second time is to invoke an optional interface on each injector to instantiate a primitive and store it in the binding. The third time is to validate the completed binding.</p>\n<p>This all happens from a common entry point that has no idea which Injectors exist. This makes it possible for 3rd party plugins to extend JTE's functionality through adding custom Injectors. </p>\n<p>The challenge is now: How can certain Injectors ensure that specific other injectors run before them? </p>\n<p>Here's an example required iteration order: </p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/92241cc88b0718d0ab3afd24ccd1049e/04784/example-iteration-order.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 36.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAAAz0lEQVQoz6VR2QrDMAzL//9gKb1oS+8D2tL70JDBIw8bDGYQSowVy455ngeM67qwbRv2fRde11V4nmfEcYwoigRBEMB1XdR1LTrqbRgm7/uWB8jawA42O8/zzcdxSO3XB+mExSyiYBgGtG2LpmnQ9/1b/EuYLMvQdR3GcRSXZI7meR4cx5ERl2WRJmEYyl25KArRpGkK3/clb2h/mibZFc/kqqpQliXyPBemSHfLGp4JTkP3ds6oVU3+G0aXaX8OwTHplqDLJElkFZzm02coXhCpH4gAdnHNAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/92241cc88b0718d0ab3afd24ccd1049e/8ac56/example-iteration-order.webp 240w,\n/static/92241cc88b0718d0ab3afd24ccd1049e/d3be9/example-iteration-order.webp 480w,\n/static/92241cc88b0718d0ab3afd24ccd1049e/e46b2/example-iteration-order.webp 960w,\n/static/92241cc88b0718d0ab3afd24ccd1049e/963af/example-iteration-order.webp 1174w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/92241cc88b0718d0ab3afd24ccd1049e/8ff5a/example-iteration-order.png 240w,\n/static/92241cc88b0718d0ab3afd24ccd1049e/e85cb/example-iteration-order.png 480w,\n/static/92241cc88b0718d0ab3afd24ccd1049e/d9199/example-iteration-order.png 960w,\n/static/92241cc88b0718d0ab3afd24ccd1049e/04784/example-iteration-order.png 1174w\"\n          sizes=\"(max-width: 960px) 100vw, 960px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/92241cc88b0718d0ab3afd24ccd1049e/d9199/example-iteration-order.png\"\n          alt=\"example iteration order\"\n          title=\"example iteration order\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n  </a>\n    </span></p>\n<div class=\"admonition admonition-tip alert alert--success\"><div class=\"admonition-heading\"><h5><span class=\"admonition-icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"16\" viewBox=\"0 0 12 16\"><path fill-rule=\"evenodd\" d=\"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z\"></path></svg></span>Learn More About JTE</h5></div><div class=\"admonition-content\"><p>To learn more about the Jenkins Templating Engine, I'd recommend checking out this <a href=\"https://www.youtube.com/watch?v=pz_kPpb9C1w&#x26;feature=youtu.be\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Jenkins Online Meetup</a> and the <a href=\"https://boozallen.github.io/sdp-docs/jte/2/index.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">docs</a></p></div></div>\n<h1 id=\"the-common-approach-ordinals\" style=\"position:relative;\"><a href=\"#the-common-approach-ordinals\" aria-label=\"the common approach ordinals permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>The Common Approach: Ordinals</h1>\n<p>Typically, the way I've seen this problem solved is through a pattern called Ordinals. Ordinals are defined, mathematically, as an integer or character indicating a position in a sequence. </p>\n<p>When this pattern is implemented, an annotation is defined and optionally applied to elements in the sequence. Prior to iterating, elements are sorted according to their self-defined ordinal values. </p>\n<h2 id=\"okay-so-whats-the-problem\" style=\"position:relative;\"><a href=\"#okay-so-whats-the-problem\" aria-label=\"okay so whats the problem permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Okay? So What's the Problem?</h2>\n<p>Every time I've ever seen an Ordinal declared, it's either trying to be first (<em>with a value of 0</em>) or last (<em>with an absurdly high number</em>). I have literally never seen an example where Ordinals are used to reasonably create an order of iteration. </p>\n<div class=\"admonition admonition-caution alert alert--warning\"><div class=\"admonition-heading\"><h5><span class=\"admonition-icon\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z\"></path></svg></span>Hot Take</h5></div><div class=\"admonition-content\"><p>Ordinals are bad.</p></div></div>\n<h1 id=\"a-better-approach\" style=\"position:relative;\"><a href=\"#a-better-approach\" aria-label=\"a better approach permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>A Better Approach</h1>\n<p>The thing about that iteration example above is that it looks pretty familiar. It's an example of a pretty classic computer science data structure, the <a href=\"https://en.wikipedia.org/wiki/Directed_acyclic_graph\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Directed Acyclic Graph</a>. </p>\n<p>The <em>most natural</em> way to solve this problem <strong>is not</strong> ordinals.  The most natural way to solve this problem is to:</p>\n<ol>\n<li>Build a direct graph where the vertices of the graph are <code class=\"language-text\">TemplatePrimitiveInjectors</code> with edges going from a dependent Injector to the Injector that must proceed it. </li>\n<li>Ensure the dependency graph is actually <strong>acyclic</strong> -- meaning that there are no circular dependencies between Injectors. </li>\n<li>Perform a <a href=\"https://en.wikipedia.org/wiki/Topological_sorting\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">topological sorting</a> of the graph</li>\n<li>Iterate over the Injectors according to the sorted order</li>\n</ol>\n<p>Immediately after thinking up with this approach, my tenured engineering mind started yelling at me: </p>\n<blockquote>\n<p>Cool. Neat idea, Steven.  Is it really worth the level of effort to program this fancy approach just because it's \"better\"? Just hard code the ordering or use Ordinals like everyone else. The (Return on Investment) / (Level of Effort) Ratio is way too low. </p>\n</blockquote>\n<p>I'm glad I didn't immediately cave.  My favorite part of all of this is just how easy it was to implement. </p>\n<h2 id=\"step-1-build-the-graph\" style=\"position:relative;\"><a href=\"#step-1-build-the-graph\" aria-label=\"step 1 build the graph permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Step 1: Build the Graph</h2>\n<p><a href=\"https://jgrapht.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">JGraphT</a> did most of the work for me on this one! </p>\n<h3 id=\"finding-the-vertices\" style=\"position:relative;\"><a href=\"#finding-the-vertices\" aria-label=\"finding the vertices permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Finding the Vertices</h3>\n<p>We said before that the graph's vertices would be the different <code class=\"language-text\">TemplatePrimitiveInjector</code>'s. Thankfully, the Jenkins plugin ecosystem is built on the idea of extending and creating <a href=\"https://javadoc.jenkins.io/hudson/ExtensionPoint.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ExtensionPoint</a>'s, so looking them up shouldn't be too hard.</p>\n<div class=\"gatsby-highlight\" data-language=\"groovy\"><pre class=\"language-groovy\"><code class=\"language-groovy\"><span class=\"token keyword\">abstract</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">TemplatePrimitiveInjector</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">ExtensionPoint</span><span class=\"token punctuation\">{</span>\n\n  <span class=\"token comment\">/**\n   * fetches all registered TemplatePrimitiveInjectors\n   *   \n   * @return list of all TemplatePrimitiveInjectors\n  */</span>\n  <span class=\"token keyword\">static</span> ExtensionList<span class=\"token operator\">&lt;</span>TemplatePrimitiveInjector<span class=\"token operator\">></span> <span class=\"token function\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> Jenkins<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getExtensionList</span><span class=\"token punctuation\">(</span>TemplatePrimitiveInjector<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n  \n  <span class=\"token comment\">// shorthand for the interface methods that </span>\n  <span class=\"token comment\">// we're trying to define the order of execution for</span>\n  <span class=\"token keyword\">void</span> <span class=\"token function\">validateConfiguration</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">void</span> <span class=\"token function\">injectPrimitives</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">void</span> <span class=\"token function\">validateBinding</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  \n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Invoking the static method <code class=\"language-text\">TemplatePrimitiveInjector.all()</code> returns the full list of registered Injectors. </p>\n<h3 id=\"identifying-the-edges\" style=\"position:relative;\"><a href=\"#identifying-the-edges\" aria-label=\"identifying the edges permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Identifying the Edges</h3>\n<p>Next up, we need a mechanism for identifying the dependencies. </p>\n<p>Functional Goals:</p>\n<ol>\n<li>The <code class=\"language-text\">TemplatePrimitiveInjector</code> interface has 3 stages and each stage may have its own dependencies, so we can't just define the dependencies on a class-wide basis. </li>\n<li>Injectors should be able to define this dependency with minimal effort</li>\n<li>Injectors should be able to define this dependency with minimal coupling to the rest of the code.</li>\n</ol>\n<p>It turns out, a method-based annotation works perfect for this.</p>\n<p>Let's define a <code class=\"language-text\">@RunAfter</code> annotation that accepts as a parameter the class names of other Injectors that must be executed first.</p>\n<div class=\"gatsby-highlight\" data-language=\"groovy\"><pre class=\"language-groovy\"><code class=\"language-groovy\"><span class=\"token annotation punctuation\">@Retention</span><span class=\"token punctuation\">(</span>RUNTIME<span class=\"token punctuation\">)</span>         <span class=\"token comment\">// be discoverable at runtime </span>\n<span class=\"token annotation punctuation\">@Target</span><span class=\"token punctuation\">(</span>ElementType<span class=\"token punctuation\">.</span>METHOD<span class=\"token punctuation\">)</span> <span class=\"token comment\">// annotate methods (not class-wide)</span>\n@<span class=\"token keyword\">interface</span> <span class=\"token class-name\">RunAfter</span><span class=\"token punctuation\">{</span>\n  \n  <span class=\"token comment\">/** define a list of other Injectors */</span> \n  Class<span class=\"token operator\">&lt;</span><span class=\"token operator\">?</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">TemplatePrimitiveInjector</span><span class=\"token operator\">></span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token function\">value</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Through this annotation,  we can now easily construct dependencies.  Here's a short hand example: </p>\n<div class=\"gatsby-highlight\" data-language=\"groovy\"><pre class=\"language-groovy\"><code class=\"language-groovy\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">A</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">TemplatePrimitiveInjector</span><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">void</span> <span class=\"token function\">validateConfiguration</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">void</span> <span class=\"token function\">injectPrimitives</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">void</span> <span class=\"token function\">validateBinding</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">B</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">TemplatePrimitiveInjector</span><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">void</span> <span class=\"token function\">validateConfiguration</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  \n  <span class=\"token annotation punctuation\">@RunAfter</span><span class=\"token punctuation\">(</span>A<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">void</span> <span class=\"token function\">injectPrimitives</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n \n  <span class=\"token keyword\">void</span> <span class=\"token function\">validateBinding</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">C</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">TemplatePrimitiveInjector</span><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">void</span> <span class=\"token function\">validateConfiguration</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">void</span> <span class=\"token function\">injectPrimitives</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  \n  <span class=\"token annotation punctuation\">@RunAfter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>A<span class=\"token punctuation\">,</span> B<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">void</span> <span class=\"token function\">validateBinding</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">...</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Now we just need a way to look up a method's dependency's:</p>\n<div class=\"gatsby-highlight\" data-language=\"groovy\"><pre class=\"language-groovy\"><code class=\"language-groovy\"><span class=\"token comment\">/**\n * returns the dependencies listed in the RunAfter annotation if present\n * on the given Injector's methodname\n */</span>\n<span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> List<span class=\"token operator\">&lt;</span>Class<span class=\"token operator\">&lt;</span><span class=\"token operator\">?</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">TemplatePrimitiveInjector</span><span class=\"token operator\">>></span> <span class=\"token function\">getPrerequisites</span><span class=\"token punctuation\">(</span>TemplatePrimitiveInjector injector<span class=\"token punctuation\">,</span> String methodName<span class=\"token punctuation\">,</span> Object<span class=\"token punctuation\">...</span> methodArgs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  List<span class=\"token operator\">&lt;</span>TemplatePrimitiveInjector<span class=\"token operator\">></span> prereqs <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n  MetaMethod metaMethod <span class=\"token operator\">=</span> injector<span class=\"token punctuation\">.</span>metaClass<span class=\"token punctuation\">.</span><span class=\"token function\">pickMethod</span><span class=\"token punctuation\">(</span>methodName<span class=\"token punctuation\">,</span> methodArgs<span class=\"token operator\">*.</span><span class=\"token keyword\">class</span> <span class=\"token class-name\">as</span> Class<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>metaMethod <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">CachedMethod</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    Method method <span class=\"token operator\">=</span> metaMethod<span class=\"token punctuation\">.</span><span class=\"token function\">getCachedMethod</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    RunAfter annotation <span class=\"token operator\">=</span> method<span class=\"token punctuation\">.</span><span class=\"token function\">getAnnotation</span><span class=\"token punctuation\">(</span>RunAfter<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>annotation<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      prereqs <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>annotation<span class=\"token punctuation\">.</span><span class=\"token function\">value</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">flatten</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> List<span class=\"token operator\">&lt;</span>Class<span class=\"token operator\">&lt;</span><span class=\"token operator\">?</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">TemplatePrimitiveInjector</span><span class=\"token operator\">>></span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> prereqs\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"creating-the-graph\" style=\"position:relative;\"><a href=\"#creating-the-graph\" aria-label=\"creating the graph permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Creating the Graph</h3>\n<div class=\"gatsby-highlight\" data-language=\"groovy\"><pre class=\"language-groovy\"><code class=\"language-groovy\"><span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> Graph<span class=\"token operator\">&lt;</span>Class<span class=\"token operator\">&lt;</span><span class=\"token operator\">?</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">TemplatePrimitiveInjector</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span> DefaultEdge<span class=\"token operator\">></span> <span class=\"token function\">createGraph</span><span class=\"token punctuation\">(</span>String methodName<span class=\"token punctuation\">,</span> Object<span class=\"token punctuation\">...</span> methodArgs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\n  Graph<span class=\"token operator\">&lt;</span>Class<span class=\"token operator\">&lt;</span><span class=\"token operator\">?</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">TemplatePrimitiveInjector</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span> DefaultEdge<span class=\"token operator\">></span> graph <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">DefaultDirectedGraph</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span>DefaultEdge<span class=\"token punctuation\">)</span>\n  ExtensionList<span class=\"token operator\">&lt;</span>TemplatePrimitiveInjector<span class=\"token operator\">></span> injectors <span class=\"token operator\">=</span> TemplatePrimitiveInjector<span class=\"token punctuation\">.</span><span class=\"token function\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token comment\">// add each injector as a node in the graph</span>\n  injectors<span class=\"token punctuation\">.</span>each<span class=\"token punctuation\">{</span> injector <span class=\"token operator\">-></span> graph<span class=\"token punctuation\">.</span><span class=\"token function\">addVertex</span><span class=\"token punctuation\">(</span>injector<span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// for each injector, connect edges</span>\n  injectors<span class=\"token punctuation\">.</span>each<span class=\"token punctuation\">{</span> injector <span class=\"token operator\">-></span>\n    List<span class=\"token operator\">&lt;</span>Class<span class=\"token operator\">&lt;</span><span class=\"token operator\">?</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">TemplatePrimitiveInjector</span><span class=\"token operator\">>></span> prereqs <span class=\"token operator\">=</span> <span class=\"token function\">getPrerequisites</span><span class=\"token punctuation\">(</span>injector<span class=\"token punctuation\">,</span> methodName<span class=\"token punctuation\">,</span> methodArgs<span class=\"token punctuation\">)</span>    \n    prereqs<span class=\"token punctuation\">.</span>each<span class=\"token punctuation\">{</span> req <span class=\"token operator\">-></span>\n      graph<span class=\"token punctuation\">.</span><span class=\"token function\">addEdge</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">,</span> injector<span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// check for infinite loops</span>\n  CycleDetector detector <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CycleDetector</span><span class=\"token punctuation\">(</span>graph<span class=\"token punctuation\">)</span>\n  Set<span class=\"token operator\">&lt;</span>TemplatePrimitiveInjector<span class=\"token operator\">></span> cycles <span class=\"token operator\">=</span> detector<span class=\"token punctuation\">.</span><span class=\"token function\">findCycles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>cycles<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JTEException</span><span class=\"token punctuation\">(</span><span class=\"token string gstring\">\"There are cyclic dependencies preventing initialization: <span class=\"token expression\"><span class=\"token punctuation\">$</span><span class=\"token punctuation\">{</span>cycles<span class=\"token punctuation\">}</span></span>\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> graph\n\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"iterating-over-the-graph\" style=\"position:relative;\"><a href=\"#iterating-over-the-graph\" aria-label=\"iterating over the graph permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Iterating over the Graph</h3>\n<p>Finally, we can create a method that takes a phase (either <code class=\"language-text\">validateConfiguration</code>, <code class=\"language-text\">injectPrimitives</code>, or <code class=\"language-text\">validateBinding</code>) and method arguments and ties all of this together! </p>\n<div class=\"gatsby-highlight\" data-language=\"groovy\"><pre class=\"language-groovy\"><code class=\"language-groovy\"><span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">invoke</span><span class=\"token punctuation\">(</span>String phase<span class=\"token punctuation\">,</span> Object<span class=\"token punctuation\">...</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  \n  List<span class=\"token operator\">&lt;</span>Class<span class=\"token operator\">&lt;</span><span class=\"token operator\">?</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">TemplatePrimitiveInjector</span><span class=\"token operator\">>></span> failedInjectors <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n  Graph<span class=\"token operator\">&lt;</span>Class<span class=\"token operator\">&lt;</span><span class=\"token operator\">?</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">TemplatePrimitiveInjector</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span> DefaultEdge<span class=\"token operator\">></span> graph <span class=\"token operator\">=</span> <span class=\"token function\">createGraph</span><span class=\"token punctuation\">(</span>phase<span class=\"token punctuation\">,</span> args<span class=\"token punctuation\">)</span>\n  AggregateException errors <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">AggregateException</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">new</span> <span class=\"token class-name\">TopologicalOrderIterator</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span>graph<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>each<span class=\"token punctuation\">{</span> injectorClazz <span class=\"token operator\">-></span>\n    TemplatePrimitiveInjector injector <span class=\"token operator\">=</span> injectorClazz<span class=\"token punctuation\">.</span><span class=\"token function\">getDeclaredConstructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">newInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">try</span><span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// check if a dependent injector has failed, if so, don't execute</span>\n      <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token punctuation\">(</span><span class=\"token function\">getPrerequisites</span><span class=\"token punctuation\">(</span>injector<span class=\"token punctuation\">,</span> phase<span class=\"token punctuation\">,</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">intersect</span><span class=\"token punctuation\">(</span>failedInjectors<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        injector<span class=\"token punctuation\">.</span><span class=\"token function\">invokeMethod</span><span class=\"token punctuation\">(</span>phase<span class=\"token punctuation\">,</span> args<span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span><span class=\"token punctuation\">(</span>any<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n      errors<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>any<span class=\"token punctuation\">)</span>\n      failedInjectors <span class=\"token operator\">&lt;&lt;</span> injectorClazz\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  \n  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>errors<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// this phase failed throw an exception</span>\n    <span class=\"token keyword\">throw</span> errors\n  <span class=\"token punctuation\">}</span>\n  \n<span class=\"token punctuation\">}</span></code></pre></div>\n<h1 id=\"conclusion\" style=\"position:relative;\"><a href=\"#conclusion\" aria-label=\"conclusion permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusion</h1>\n<p>I like to say that, \"the line between brilliant and hacky is often thin\". Let me know which side you think this falls on in the comments :). </p>\n<p>Feel free to check out the actual code for this within the Jenkins Templating Engine: <a href=\"https://github.com/jenkinsci/templating-engine-plugin/blob/2.0/src/main/groovy/org/boozallen/plugins/jte/init/primitives/TemplatePrimitiveInjector.groovy\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">TemplatePrimitiveInjector</a>, <a href=\"https://github.com/jenkinsci/templating-engine-plugin/blob/2.0/src/main/groovy/org/boozallen/plugins/jte/init/primitives/RunAfter.groovy\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">RunAfter</a>, <a href=\"https://github.com/jenkinsci/templating-engine-plugin/blob/2.0/src/main/groovy/org/boozallen/plugins/jte/init/primitives/TemplateBindingFactory.groovy\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">TemplateBindingFactory</a></p>","fields":{"slug":"/post/dag-alternative-to-ordinals-jte","tagSlugs":["/tag/jenkins/","/tag/groovy/","/tag/software-engineering/"]},"frontmatter":{"date":"01/02/2021","description":"Using JGraphT to build an annotation-driven approach to directed acyclic graph dependency resolution as an alternative to ordinals within the Jenkins Templating Engine.","tags":["Jenkins","Groovy","Software Engineering"],"title":"A Groovy Alternative to Ordinals With Annotation-Driven Directed Acyclic Graphs"}}},"pageContext":{"slug":"/post/dag-alternative-to-ordinals-jte"}},"staticQueryHashes":["251939775","401334301","825871152"]}